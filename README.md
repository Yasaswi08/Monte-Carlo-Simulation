### IS 590 Porgramming Analytics and Data Preprocessing - Final Project

## Project Title:
Profit/Loss Analysis of Surplus Hotel Room Reservations using Monte-Carlo Simulation

## Team Members:
Yasaswi Boyapati (Yasaswi08)
Zainab Aziz Zaveri (Zainabzav)

## Project Outline: 
- It is a very common trend in the hospitality industry to accept more bookings than available vacant rooms for a particular day of the year. 
- According to previous research and real-life examples, many hotels either make extra money off- no shows or account for the risk of loss experienced when guests cancel their reservations a few days ahead of arrival using surplus room booking. 
- Hotels also tend to make money due to cancellations as in many cases they do not refund the entire amount back to the customer.

Taking into account the type of booking, class of room booked, size of booking, date of booking, gap between booking date and date of stay, hotel compensation and other variables, we try to randomly simulate a hotel reservation system.

## Hypothesis to test:
- The higher the nummber of overbooked rooms, the higher the profit generated by the hotel
- The higher the number of rooms cancelled and the lesser the hotel refunds cancellations, the higher the profit generated by the hotel 

## Approach:
We used a monte-carlo simulation to find the optimal number of overbookings for a particular day which would give the hotel maximum revenue on that day. You can refer to the program flowchart [here](https://github.com/Zainabzav/final_projects/blob/master/project_workflow.png) to get a rough idea about the workflow of our project.

1. We first take in the follwing inputs from the user(modelled for hotel staff/managers):
![Alt text](https://github.com/Zainabzav/final_projects/blob/master/images/Screen%20Shot%202019-12-12%20at%2011.05.34%20AM.png?raw=true "Optional Title")

2. Based on the inputs we run our monte-carlo simulation which includes the following random distributions and probabilities:
   - Show-up probability: the probability of a guest who has made a reservation, to show up on the day on reservation.
   - Demand probability: the probability of demand of a hotel room on a particular date
   - Demand Hype: A poisson distribution which randomnly generates the number of rooms in demand 
     - For a special day/holiday: `demand_hyp = np.random.poisson(room_capacity * 1.5)` 
     - For a weekday when its a business hotel or a weekend when its a resort : `demand_hyp = np.random.poisson(room_capacity * 1.2)`
   - Number of rooms actually in demand : Based on the hype of rooms and their demand probability, we use a binomial distribution to generate the actual number of rooms that the guests reserve `numofrooms_demand = np.random.binomial(demand_hyp, probability_of_demand)`
   - Number of guests who make reservation and show-up : To calculate the number of guests who show up we use a binomial distribution where n = number of reservations made based on numofrooms_demand and p = probability of showing up `number_of_guests_showup = np.random.binomial(number_of_rooms_reserved, showup_prob)`
   - Number of guests who dont show-up: `number_of_guests_dont_showup = number_of_rooms_reserved - number_of_guests_showup`
   - Number of guests who cancel their reservations: Considering the range as 80% of the number of guests who don't show up, we use a random integer function to generate the cancelllation number `range_x = math.floor(number_of_guests_dont_showup*0.8), number_of_guests_cancel = np.random.randint(0,range_x)`
   
3. Next, we calculate the profits keeping into consideration the number of people who we need to give a compensation to in-case the number of people who show-up is greater than the total capacity of the hotel

4. We generate mean profits earned by the hotel, associate it with the corresponding overbooking number and then take the optimum overbooking number when the mean profit is the highest throughout the simulation

5. Finally, we create three distinct plots to display our results

## Outputs

### Case 1: 
rooms = 100, date = 01-17-2019, Type= business, costs = 500,300,100
#### Input:

![Alt text](https://github.com/Zainabzav/final_projects/blob/master/images/Screen%20Shot%202019-12-12%20at%2011.05.34%20AM.png?raw=true "Optional Title")

#### Output:

##### Plot 1: 
Displays the plot of the profits generated for each category of rooms vs the number of overbookings

<img src="https://github.com/Zainabzav/final_projects/blob/master/images/Screen%20Shot%202019-12-15%20at%2010.44.20%20AM.png" data-canonical-src="https://github.com/Zainabzav/final_projects/blob/master/images/Screen%20Shot%202019-12-15%20at%2010.44.20%20AM.png" width="600" height="400" />

##### Plot 2:
Displays the plot of the total profits vs the number of overbookings

<img src="https://github.com/Zainabzav/final_projects/blob/master/images/Screen%20Shot%202019-12-15%20at%2010.44.29%20AM.png" data-canonical-src="https://github.com/Zainabzav/final_projects/blob/master/images/Screen%20Shot%202019-12-15%20at%2010.44.29%20AM.png" width="600" height="400" />

##### Plot 3:
Plot all the cancellation numbers and their corresponding total profits

<img src="https://github.com/Zainabzav/final_projects/blob/master/images/Screen%20Shot%202019-12-15%20at%2010.44.38%20AM.png" data-canonical-src="https://github.com/Zainabzav/final_projects/blob/master/images/Screen%20Shot%202019-12-15%20at%2010.44.38%20AM.png" width="600" height="400" />

##### Optimal overbooking number and maximum cancellations for this case:

<img src="https://github.com/Zainabzav/final_projects/blob/master/images/Screen%20Shot%202019-12-15%20at%2010.44.57%20AM.png" data-canonical-src="https://github.com/Zainabzav/final_projects/blob/master/images/Screen%20Shot%202019-12-15%20at%2010.44.57%20AM.png" width="700" height="250" />


### Case 2: 
rooms = 500, date = 01-01-2019, Type= vacation, costs = 600,300,100
#### Input:

![Alt text](https://github.com/Zainabzav/final_projects/blob/master/images/Screen%20Shot%202019-12-15%20at%2010.52.37%20AM.png?raw=true "Optional Title")

#### Output:

##### Plot 1: 
Displays the plot of the profits generated for each category of rooms vs the number of overbookings

<img src="https://github.com/Zainabzav/final_projects/blob/master/images/Screen%20Shot%202019-12-15%20at%2010.52.50%20AM.png" data-canonical-src="https://github.com/Zainabzav/final_projects/blob/master/images/Screen%20Shot%202019-12-15%20at%2010.52.50%20AM.png" width="600" height="400" />

##### Plot 2:
Displays the plot of the total profits vs the number of overbookings

<img src="https://github.com/Zainabzav/final_projects/blob/master/images/Screen%20Shot%202019-12-15%20at%2010.52.58%20AM.png" data-canonical-src="https://github.com/Zainabzav/final_projects/blob/master/images/Screen%20Shot%202019-12-15%20at%2010.52.58%20AM.png" width="600" height="400" />

##### Plot 3:
Plot all the cancellation numbers and their corresponding total profits

<img src="https://github.com/Zainabzav/final_projects/blob/master/images/Screen%20Shot%202019-12-15%20at%2010.53.08%20AM.png" data-canonical-src="https://github.com/Zainabzav/final_projects/blob/master/images/Screen%20Shot%202019-12-15%20at%2010.53.08%20AM.png" width="600" height="400" />

##### Optimal overbooking number and maximum cancellations for this case:

<img src="https://github.com/Zainabzav/final_projects/blob/master/images/Screen%20Shot%202019-12-15%20at%2010.53.18%20AM.png" data-canonical-src="https://github.com/Zainabzav/final_projects/blob/master/images/Screen%20Shot%202019-12-15%20at%2010.53.18%20AM.png" width="700" height="250" />

### Case 3: 
rooms = 400, date = 01-20-2019, Type= vacation, costs = 400,350,200
#### Input:

![Alt text](https://github.com/Zainabzav/final_projects/blob/master/images/Screen%20Shot%202019-12-15%20at%2010.58.44%20AM.png?raw=true "Optional Title")

#### Output:

##### Plot 1: 
Displays the plot of the profits generated for each category of rooms vs the number of overbookings

<img src="https://github.com/Zainabzav/final_projects/blob/master/images/Screen%20Shot%202019-12-15%20at%2010.58.57%20AM.png" data-canonical-src="https://github.com/Zainabzav/final_projects/blob/master/images/Screen%20Shot%202019-12-15%20at%2010.58.57%20AM.png" width="600" height="400" />

##### Plot 2:
Displays the plot of the total profits vs the number of overbookings

<img src="https://github.com/Zainabzav/final_projects/blob/master/images/Screen%20Shot%202019-12-15%20at%2010.59.10%20AM.png" data-canonical-src="https://github.com/Zainabzav/final_projects/blob/master/images/Screen%20Shot%202019-12-15%20at%2010.59.10%20AM.png" width="600" height="400" />

##### Plot 3:
Plots all the cancellation numbers and their corresponding total profits

<img src="https://github.com/Zainabzav/final_projects/blob/master/images/Screen%20Shot%202019-12-15%20at%2010.59.18%20AM.png" data-canonical-src="https://github.com/Zainabzav/final_projects/blob/master/images/Screen%20Shot%202019-12-15%20at%2010.59.18%20AM.png" width="600" height="400" />

##### Optimal overbooking number and maximum cancellations for this case:

<img src="https://github.com/Zainabzav/final_projects/blob/master/images/Screen%20Shot%202019-12-15%20at%2010.59.32%20AM.png" data-canonical-src="https://github.com/Zainabzav/final_projects/blob/master/images/Screen%20Shot%202019-12-15%20at%2010.59.32%20AM.png" width="700" height="250" />

## Conclusion

We ran the simulation about 25 times with multiple variations in hotel type, date of booking, split and costs of rooms and came to the following conclusion to our hypothesis:

- When the total overbooking room percentage ranges from 0-12% of the total hotel capacity, the hotel makes profits. If the precentage is greater than 13% then the hotel suffers loss. Hence our first hypothesis was rejected.
- Considering plot 3 of the output in all the different cases, we observed a trend showcasing a decrease in profits with increasing cancellation numbers. Thus even if the hotel is making some money from the cancellation rooms, when the number keeps increasing, the hotel is unable to covert those rooms into profit which leads to less occupancy and in-turn lesser profits. Hence our second hypothesis was also rejected based on the simulations in our model.


